{"version":3,"sources":["components/Navigation/Navigation.module.css","components/Container/Container.module.css","views/BookDetails/BookDetails.module.css","components/BookItem/BookItem.module.css","components/List/List.js","components/BookItem/BookItem.js","views/BooksView.js","components/Container/Container.js","views/HomeView.js","context.js","views/BookDetails/BookDetailsView.js","components/Navigation/Navigation.js","api/fetch.js","App.js","index.js"],"names":["module","exports","List","props","className","s","container","items","map","renderItem","BookItem","book","bookItem","src","cover","alt","title","descr","author","to","id","BooksView","books","Container","children","HomeView","width","Context","React","createContext","BookDetailsView","useState","setBook","filteredBooks","setFilteredBooks","bookId","useParams","useContext","history","useHistory","useEffect","currentBook","find","authorsBooks","newstr","replace","filter","b","includes","findBooks","details","detailsText","isbn","list","onClick","goBack","push","Navigation","exact","link","activeClassName","activeLink","a","axios","get","response","data","console","log","defaults","headers","post","fetchBooks","App","setBooks","then","Provider","value","path","component","window","location","pathname","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.266c9442.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__381L_\",\"activeLink\":\"Navigation_activeLink__3jAqP Navigation_link__381L_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1h0iO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"BookDetails_details__1AN1s\",\"detailsText\":\"BookDetails_detailsText__sKSCn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookItem\":\"BookItem_bookItem__26EXg\",\"descr\":\"BookItem_descr__TpUlj\"};","import React from 'react';\r\nimport s from '../Container/Container.module.css';\r\n\r\nexport default function List(props) {\r\n  return <div className={s.container}>{props.items.map(props.renderItem)}</div>;\r\n}\r\n","import { Link, useRouteMatch } from 'react-router-dom';\r\nimport s from './BookItem.module.css';\r\n\r\nconst BookItem = ({ book }) => {\r\n  // const { url } = useRouteMatch();\r\n\r\n  return (\r\n    <>\r\n      {book ? (\r\n        <div className={s.bookItem}>\r\n          <img src={book.cover} alt={book.title} />\r\n          <div className={s.descr}>\r\n            <p>\r\n              <span>title:</span> {book.title}\r\n            </p>\r\n            <p>\r\n              <span>author:</span> {book.author}\r\n            </p>\r\n          </div>\r\n          {/* <Link to={`${url}/${book.id}`}>More information</Link> */}\r\n          <Link to={`books/${book.id}`}>More information</Link>\r\n        </div>\r\n      ) : (\r\n        <p>no info</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookItem;\r\n","import List from '../components/List/List';\r\nimport BookItem from '../components/BookItem/BookItem';\r\n\r\nconst BooksView = ({ books }) => {\r\n  return (\r\n    <List\r\n      items={books}\r\n      renderItem={book => <BookItem book={book} key={book.id} />}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BooksView;\r\n","import s from './Container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={s.container}>{children}</div>;\r\n}\r\n","import Container from '../components/Container/Container';\r\n\r\nexport default function HomeView() {\r\n  return (\r\n    <Container>\r\n      <h1>Welcome Home!</h1>\r\n      <p>\r\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Ex vel velit\r\n        nihil illo est! Quos cum rerum dolores voluptates odio iste est nam\r\n        excepturi placeat eligendi voluptatibus a illo eos ipsam, necessitatibus\r\n        quo at quae pariatur et asperiores odit! Quasi sunt odit omnis at\r\n        deserunt placeat ipsa earum dignissimos magni voluptatum quisquam veniam\r\n        libero qui fugit accusantium cum ratione, facilis tempore in!\r\n        Voluptates, minus nesciunt sed optio voluptate et quae accusamus est\r\n        eos, dolorum quibusdam dolorem debitis perferendis voluptas rem quos\r\n        eius ab, commodi cumque dolor. Repellendus porro impedit, enim\r\n        temporibus quibusdam eum natus corporis id? Ducimus fugit consequatur\r\n        consequuntur.\r\n      </p>\r\n      <img\r\n        src='https://cdn.pixabay.com/photo/2020/09/02/18/33/portland-head-light-5539153_960_720.jpg'\r\n        width='1100'\r\n        alt='home'\r\n      />\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nexport const Context = React.createContext();\r\n","import { useState, useEffect, useContext } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport Container from '../../components/Container/Container';\r\nimport { Context } from '../../context';\r\n\r\nimport s from './BookDetails.module.css';\r\n\r\nconst findBooks = (book, books) => {\r\n  if (book) {\r\n    const newstr = book.author.replace(/^(Mr.|Ms.|Mrs.|Dr.|Prof.)\\.?\\s/i, '');\r\n    return books.filter(b => b.author.includes(newstr) && b.id !== book.id);\r\n  }\r\n};\r\n\r\nexport default function BookDetailsView() {\r\n  const [book, setBook] = useState('');\r\n  const [filteredBooks, setFilteredBooks] = useState('');\r\n\r\n  const { bookId } = useParams();\r\n  const books = useContext(Context);\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const currentBook = books.find(book => book.id === bookId);\r\n    setBook(currentBook);\r\n    const authorsBooks = findBooks(book, books);\r\n    setFilteredBooks(authorsBooks);\r\n  }, [book, books, bookId]);\r\n\r\n  return (\r\n    <Container>\r\n      {book && (\r\n        <>\r\n          <h2> {book.title} </h2>\r\n\r\n          <div className={s.details}>\r\n            <img src={book.cover} alt={book.title} />\r\n\r\n            <div className={s.detailsText}>\r\n              <p>\r\n                <span>Author:</span> {book.author}\r\n              </p>\r\n\r\n              <p>\r\n                <span>isbn:</span> {book.isbn}\r\n              </p>\r\n              <p>\r\n                <span>isbn:</span> {book.isbn}\r\n              </p>\r\n\r\n              <h2>More authors books:</h2>\r\n              <ul className={s.list}>\r\n                {filteredBooks ? (\r\n                  filteredBooks.map(b => (\r\n                    <li key={b.id}>\r\n                      <Link to={`${b.id}`}>{b.title}</Link>\r\n                    </li>\r\n                  ))\r\n                ) : (\r\n                  <p>loading...</p>\r\n                )}\r\n              </ul>\r\n              <button\r\n                onClick={() => {\r\n                  history.goBack();\r\n                }}\r\n              >\r\n                Back\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  history.push('/books');\r\n                }}\r\n              >\r\n                Back to list\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\n\r\nconst Navigation = () => (\r\n  <nav>\r\n    <NavLink exact to='/' className={s.link} activeClassName={s.activeLink}>\r\n      Home\r\n    </NavLink>\r\n\r\n    <NavLink to='/books' className={s.link} activeClassName={s.activeLink}>\r\n      Books\r\n    </NavLink>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;\r\n","import axios from 'axios';\r\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\r\n\r\nasync function fetchBooks() {\r\n  try {\r\n    const response = await axios.get(\r\n      'https://azsoft-code-server.herokuapp.com/books'\r\n    );\r\n\r\n    return response.data.books;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\nexport default fetchBooks;\r\n","import { useEffect, useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport BooksView from './views/BooksView';\nimport HomeView from './views/HomeView';\nimport BookDetailsView from './views/BookDetails/BookDetailsView';\nimport Navigation from './components/Navigation/Navigation';\nimport { Context } from './context';\nimport fetchBooks from './api/fetch';\n\nimport './App.css';\n\nfunction App() {\n  const [books, setBooks] = useState([]);\n\n  useEffect(() => {\n    fetchBooks().then(data => {\n      setBooks(data);\n    });\n  }, []);\n\n  return (\n    <>\n      <Navigation />\n      <Context.Provider value={books}>\n        <Switch>\n          <Route path='/' exact>\n            <HomeView />\n          </Route>\n          <Route path='/books' exact>\n            <BooksView books={books} />\n          </Route>\n\n          <Route\n            path='/books/:bookId'\n            component={() => <BookDetailsView key={window.location.pathname} />}\n          />\n        </Switch>\n      </Context.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}